{"version":3,"sources":["dropdown/dropdown-fix.js"],"names":[],"mappings":"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","file":"dropdown/dropdown-fix.js","sourceRoot":"/source/","sourcesContent":["export function applyMaterializeDropdownFix() {\n  $.fn.dropdown = function (options) {\n    var defaults = {\n      inDuration: 300,\n      outDuration: 225,\n      constrain_width: true, // Constrains width of dropdown to the activator\n      hover: false,\n      gutter: 0, // Spacing from edge\n      belowOrigin: false,\n      alignment: 'left',\n      stopPropagation: false\n    };\n\n    // Open dropdown.\n    if (options === \"open\") {\n      this.each(function() {\n        $(this).trigger('open');\n      });\n      return false;\n    }\n\n    // Close dropdown.\n    if (options === \"close\") {\n      this.each(function() {\n        $(this).trigger('close');\n      });\n      return false;\n    }\n\n    this.each(function(){\n      var origin = $(this);\n      var curr_options = $.extend({}, defaults, options);\n      var isFocused = false;\n\n      // Dropdown menu\n      var activates = $(\"#\"+ origin.attr('data-activates'));\n\n      function updateOptions() {\n        if (origin.data('induration') !== undefined)\n          curr_options.inDuration = origin.data('induration');\n        if (origin.data('outduration') !== undefined)\n          curr_options.outDuration = origin.data('outduration');\n        if (origin.data('constrainwidth') !== undefined)\n          curr_options.constrain_width = origin.data('constrainwidth');\n        if (origin.data('hover') !== undefined)\n          curr_options.hover = origin.data('hover');\n        if (origin.data('gutter') !== undefined)\n          curr_options.gutter = origin.data('gutter');\n        if (origin.data('beloworigin') !== undefined)\n          curr_options.belowOrigin = origin.data('beloworigin');\n        if (origin.data('alignment') !== undefined)\n          curr_options.alignment = origin.data('alignment');\n        if (origin.data('stoppropagation') !== undefined)\n          curr_options.stopPropagation = origin.data('stoppropagation');\n      }\n\n      updateOptions();\n\n      // Attach dropdown to its activator\n      origin.after(activates);\n\n      /*\n        Helper function to position and resize dropdown.\n        Used in hover and click handler.\n      */\n      function placeDropdown(eventType) {\n        // Check for simultaneous focus and click events.\n        if (eventType === 'focus') {\n          isFocused = true;\n        }\n\n        // Check html data attributes\n        updateOptions();\n\n        // Set Dropdown state\n        activates.addClass('active');\n        origin.addClass('active');\n\n        // Constrain width\n        if (curr_options.constrain_width === true) {\n          activates.css('width', origin.outerWidth());\n\n        } else {\n          activates.css('white-space', 'nowrap');\n        }\n\n        // Offscreen detection\n        var windowHeight = window.innerHeight;\n        var originHeight = origin.innerHeight();\n        var offsetLeft = origin.offset().left;\n        var offsetTop = origin.offset().top - $(window).scrollTop();\n        var currAlignment = curr_options.alignment;\n        var gutterSpacing = 0;\n        var leftPosition = 0;\n\n        // Below Origin\n        var verticalOffset = 0;\n        if (curr_options.belowOrigin === true) {\n          verticalOffset = originHeight;\n        }\n\n        // Check for scrolling positioned container.\n        var scrollYOffset = 0;\n        var scrollXOffset = 0;\n        var wrapper = origin.parent();\n        if (!wrapper.is('body')) {\n          if (wrapper[0].scrollHeight > wrapper[0].clientHeight) {\n            scrollYOffset = wrapper[0].scrollTop;\n          }\n          if (wrapper[0].scrollWidth > wrapper[0].clientWidth) {\n            scrollXOffset = wrapper[0].scrollLeft;\n          }\n        }\n\n\n        if (offsetLeft + activates.innerWidth() > $(window).width()) {\n          // Dropdown goes past screen on right, force right alignment\n          currAlignment = 'right';\n\n        } else if (offsetLeft - activates.innerWidth() + origin.innerWidth() < 0) {\n          // Dropdown goes past screen on left, force left alignment\n          currAlignment = 'left';\n        }\n        // Vertical bottom offscreen detection\n        if (offsetTop + activates.innerHeight() > windowHeight) {\n          // If going upwards still goes offscreen, just crop height of dropdown.\n          if (offsetTop + originHeight - activates.innerHeight() < 0) {\n            var adjustedHeight = windowHeight - offsetTop - verticalOffset;\n            activates.css('max-height', adjustedHeight);\n          } else {\n            // Flow upwards.\n            if (!verticalOffset) {\n              verticalOffset += originHeight;\n            }\n            verticalOffset -= activates.innerHeight();\n          }\n        }\n\n        // Handle edge alignment\n        if (currAlignment === 'left') {\n          gutterSpacing = curr_options.gutter;\n          leftPosition = origin.position().left + gutterSpacing;\n        }\n        else if (currAlignment === 'right') {\n          var offsetRight = origin.position().left + origin.outerWidth() - activates.outerWidth();\n          gutterSpacing = -curr_options.gutter;\n          leftPosition =  offsetRight + gutterSpacing;\n        }\n\n        // Position dropdown\n        activates.css({\n          position: 'absolute',\n          top: origin.position().top + verticalOffset + scrollYOffset,\n          left: leftPosition + scrollXOffset\n        });\n\n\n        // Show dropdown\n        activates.stop(true, true).css('opacity', 0)\n          .slideDown({\n            queue: false,\n            duration: curr_options.inDuration,\n            easing: 'easeOutCubic',\n            complete: function() {\n              $(this).css('height', '');\n            }\n          })\n          .animate( {opacity: 1}, {queue: false, duration: curr_options.inDuration, easing: 'easeOutSine'});\n      }\n\n      function hideDropdown() {\n        // Check for simultaneous focus and click events.\n        isFocused = false;\n        activates.fadeOut(curr_options.outDuration);\n        activates.removeClass('active');\n        origin.removeClass('active');\n        setTimeout(function() { activates.css('max-height', ''); }, curr_options.outDuration);\n      }\n\n      // Hover\n      if (curr_options.hover) {\n        var open = false;\n        origin.unbind('click.' + origin.attr('id'));\n        // Hover handler to show dropdown\n        origin.on('mouseenter', function(e){ // Mouse over\n          if (open === false) {\n            placeDropdown();\n            open = true;\n          }\n        });\n        origin.on('mouseleave', function(e){\n          // If hover on origin then to something other than dropdown content, then close\n          var toEl = e.toElement || e.relatedTarget; // added browser compatibility for target element\n          if(!$(toEl).closest('.dropdown-content').is(activates)) {\n            activates.stop(true, true);\n            hideDropdown();\n            open = false;\n          }\n        });\n\n        activates.on('mouseleave', function(e){ // Mouse out\n          var toEl = e.toElement || e.relatedTarget;\n          if(!$(toEl).closest('.dropdown-button').is(origin)) {\n            activates.stop(true, true);\n            hideDropdown();\n            open = false;\n          }\n        });\n\n        // Click\n      } else {\n        // Click handler to show dropdown\n        origin.unbind('click.' + origin.attr('id'));\n        origin.bind('click.'+origin.attr('id'), function(e){\n          if (!isFocused) {\n            if ( origin[0] == e.currentTarget &&\n                 !origin.hasClass('active') &&\n                 ($(e.target).closest('.dropdown-content').length === 0)) {\n              e.preventDefault(); // Prevents button click from moving window\n              if (curr_options.stopPropagation) {\n                e.stopPropagation();\n              }\n              placeDropdown('click');\n            }\n            // If origin is clicked and menu is open, close menu\n            else if (origin.hasClass('active')) {\n              hideDropdown();\n              $(document).unbind('click.'+ activates.attr('id') + ' touchstart.' + activates.attr('id'));\n            }\n            // If menu open, add click close handler to document\n            if (activates.hasClass('active')) {\n              $(document).bind('click.'+ activates.attr('id') + ' touchstart.' + activates.attr('id'), function (e) {\n                if (!activates.is(e.target) && !origin.is(e.target) && (!origin.find(e.target).length) ) {\n                  hideDropdown();\n                  $(document).unbind('click.'+ activates.attr('id') + ' touchstart.' + activates.attr('id'));\n                }\n              });\n            }\n          }\n        });\n\n      } // End else\n\n      // Listen to open and close event - useful for select component\n      origin.on('open', function(e, eventType) {\n        placeDropdown(eventType);\n      });\n      origin.on('close', hideDropdown);\n\n\n    });\n  }; // End dropdown plugin\n\n  $(document).ready(function(){\n    $('.dropdown-button').dropdown();\n  });\n}\n"]}