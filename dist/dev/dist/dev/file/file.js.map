{"version":3,"sources":["file/file.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAS;AAAU;;AACV;;AACA;;AACA;;AACA;;;6BAII,sBAFZ,cAAc,SAAd,WACA,OAAO,OAAP,WAEE,oBACA,SAAS;AACR,4BAAoB,YAAY,OAAZ;OADrB,WAGA,SAAS;AACR,4BAAoB,YAAY,MAAZ;OADrB;AAMD,iBAXW,WAWX,CAAY,OAAZ,EAAqB;gCAXV,aAWU;;;;;;;;eAFrB,iBAAiB,MAEI;;AACnB,eAAK,OAAL,GAAe,OAAf,CADmB;AAEnB,eAAK,2BAAL,GAAmC,KAAK,2BAAL,CAAiC,IAAjC,CAAsC,IAAtC,CAAnC,CAFmB;SAArB;;AAXW,8BAgBX,+BAAW;AACT,eAAK,UAAL,GAAkB,6BAA6B,KAAK,UAAL,CAA/C,CADS;AAET,YAAE,KAAK,QAAL,CAAF,CAAiB,EAAjB,CAAoB,QAApB,EAA8B,KAAK,2BAAL,CAA9B,CAFS;;;AAhBA,8BAqBX,+BAAW;AACT,YAAE,KAAK,OAAL,CAAF,CAAgB,GAAhB,CAAoB,QAApB,EAA8B,KAAK,2BAAL,CAA9B,CADS;;;AArBA,8BAyBX,qEAA8B;AAC5B,cAAI,CAAC,KAAK,cAAL,EAAqB;AACxB,iBAAK,cAAL,GAAsB,IAAtB,CADwB;AAExB,sBAAU,KAAK,QAAL,EAAe,QAAzB,EAFwB;AAGxB,iBAAK,cAAL,GAAsB,KAAtB,CAHwB;WAA1B;;;eA1BS;;;;iBACa;;;;;iBAGR","file":"file/file.js","sourceRoot":"/source/","sourcesContent":["import { bindable, customElement } from 'aurelia-templating';\nimport { bindingMode } from 'aurelia-binding';\nimport { inject } from 'aurelia-dependency-injection';\nimport { fireEvent } from '../common/events';\nimport { getBooleanFromAttributeValue } from '../common/attributes';\n\n@customElement('md-file')\n@inject(Element)\nexport class MdFileInput {\n  @bindable() mdCaption = 'File';\n  @bindable({\n    defaultBindingMode: bindingMode.oneTime\n  }) mdMultiple = false;\n  @bindable({\n    defaultBindingMode: bindingMode.twoWay\n  }) mdValue;\n\n  _suspendUpdate = false;\n\n  constructor(element) {\n    this.element = element;\n    this.handleChangeFromNativeInput = this.handleChangeFromNativeInput.bind(this);\n  }\n\n  attached() {\n    this.mdMultiple = getBooleanFromAttributeValue(this.mdMultiple);\n    $(this.filePath).on('change', this.handleChangeFromNativeInput);\n  }\n\n  detached() {\n    $(this.element).off('change', this.handleChangeFromNativeInput);\n  }\n\n  handleChangeFromNativeInput() {\n    if (!this._suspendUpdate) {\n      this._suspendUpdate = true;\n      fireEvent(this.filePath, 'change');\n      this._suspendUpdate = false;\n    }\n  }\n}\n"]}