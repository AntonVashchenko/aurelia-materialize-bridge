{"version":3,"sources":["file/file.js"],"names":[],"mappings":";;;6FAQa,WAAW;;;;;;;;;;oCARf,QAAQ;yCAAE,aAAa;;oCACvB,WAAW;;2CACX,MAAM;;gCACN,SAAS;;uDACT,4BAA4B;;;AAIxB,iBAAW;;;8BAAX,WAAW;;uBACrB,QAAQ,EAAE;;mBAAa,MAAM;;;;;uBAC7B,QAAQ,CAAC;AACR,8BAAkB,EAAE,WAAW,CAAC,OAAO;WACxC,CAAC;;mBAAc,KAAK;;;;;uBACpB,QAAQ,CAAC;AACR,8BAAkB,EAAE,WAAW,CAAC,MAAM;WACvC,CAAC;;;;;AAIS,iBAXA,WAAW,CAWV,OAAO,EAAE;;;;;;;;;eAFrB,cAAc,GAAG,KAAK;;AAGpB,cAAI,CAAC,OAAO,GAAG,OAAO,CAAC;AACvB,cAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAChF;;AAdU,mBAAW,WAgBtB,QAAQ,GAAA,oBAAG;AACT,cAAI,CAAC,UAAU,GAAG,4BAA4B,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;AAChE,WAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,IAAI,CAAC,2BAA2B,CAAC,CAAC;SACjE;;AAnBU,mBAAW,WAqBtB,QAAQ,GAAA,oBAAG;AACT,WAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,2BAA2B,CAAC,CAAC;SACjE;;AAvBU,mBAAW,WAyBtB,2BAA2B,GAAA,uCAAG;AAC5B,cAAI,CAAC,IAAI,CAAC,cAAc,EAAE;AACxB,gBAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,qBAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;AACnC,gBAAI,CAAC,cAAc,GAAG,KAAK,CAAC;WAC7B;SACF;;2BA/BU,WAAW;AAAX,mBAAW,GADvB,MAAM,CAAC,OAAO,CAAC,CACH,WAAW,KAAX,WAAW;AAAX,mBAAW,GAFvB,aAAa,CAAC,SAAS,CAAC,CAEZ,WAAW,KAAX,WAAW;eAAX,WAAW","file":"file/file.js","sourceRoot":"/source/","sourcesContent":["import { bindable, customElement } from 'aurelia-templating';\nimport { bindingMode } from 'aurelia-binding';\nimport { inject } from 'aurelia-dependency-injection';\nimport { fireEvent } from '../common/events';\nimport { getBooleanFromAttributeValue } from '../common/attributes';\n\n@customElement('md-file')\n@inject(Element)\nexport class MdFileInput {\n  @bindable() mdCaption = 'File';\n  @bindable({\n    defaultBindingMode: bindingMode.oneTime\n  }) mdMultiple = false;\n  @bindable({\n    defaultBindingMode: bindingMode.twoWay\n  }) mdValue;\n\n  _suspendUpdate = false;\n\n  constructor(element) {\n    this.element = element;\n    this.handleChangeFromNativeInput = this.handleChangeFromNativeInput.bind(this);\n  }\n\n  attached() {\n    this.mdMultiple = getBooleanFromAttributeValue(this.mdMultiple);\n    $(this.filePath).on('change', this.handleChangeFromNativeInput);\n  }\n\n  detached() {\n    $(this.element).off('change', this.handleChangeFromNativeInput);\n  }\n\n  handleChangeFromNativeInput() {\n    if (!this._suspendUpdate) {\n      this._suspendUpdate = true;\n      fireEvent(this.filePath, 'change');\n      this._suspendUpdate = false;\n    }\n  }\n}\n"]}