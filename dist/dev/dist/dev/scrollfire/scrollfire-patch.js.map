{"version":3,"sources":["scrollfire/scrollfire-patch.js"],"names":[],"mappings":";;;;;;;;;;;;;;iCACa,e;;;;;kCAGX,K,oBAAQ;AACN,cAAI,CAAC,gBAAgB,OAArB,EAA8B;AAC5B,4BAAgB,OAAhB,GAA0B,IAA1B;;AAEA,mBAAO,WAAP,CAAmB,UAAnB,GAAgC,UAAS,OAAT,EAAkB;AAChD,kBAAI,YAAY,KAAhB;AACA,qBAAO,gBAAP,CAAwB,QAAxB,EAAkC,YAAW;AAC3C,4BAAY,IAAZ;AACD,eAFD;;AAKA,0BAAY,YAAW;AACrB,oBAAI,SAAJ,EAAe;AACb,8BAAY,KAAZ;;AAEA,sBAAI,eAAe,OAAO,WAAP,GAAqB,OAAO,WAA/C;AACA,uBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,QAAQ,MAA5B,EAAoC,GAApC,EAAyC;AAEvC,wBAAI,QAAQ,QAAQ,CAAR,CAAZ;AACA,wBAAI,WAAW,MAAM,QAArB;AACA,wBAAI,SAAS,MAAM,MAAnB;AACA,wBAAI,WAAW,MAAM,QAArB;;AAEA,wBAAI,iBAAiB,SAAS,aAAT,CAAuB,QAAvB,CAArB;AACA,wBAAK,mBAAmB,IAAxB,EAA8B;AAC5B,0BAAI,gBAAgB,eAAe,qBAAf,GAAuC,GAAvC,GAA6C,OAAO,WAAxE;;AAEA,0BAAI,eAAgB,gBAAgB,MAApC,EAA6C;AAC3C,4BAAI,MAAM,IAAN,KAAe,IAAnB,EAAyB;AACvB,8BAAI,OAAO,QAAP,KAAqB,QAAzB,EAAmC;AACjC,gCAAI,eAAe,IAAI,QAAJ,CAAa,QAAb,CAAnB;AACA;AACD,2BAHD,MAGO,IAAI,OAAO,QAAP,KAAqB,UAAzB,EAAqC;AAC1C;AACD;AACD,gCAAM,IAAN,GAAa,IAAb;AACD;AACF;AACF;AACF;AACF;AACF,eA9BD,EA8BG,GA9BH;AA+BD,aAtCD;AAuCD;AACF,S;;;kBA9CM,O,GAAU,K","file":"scrollfire/scrollfire-patch.js","sourceRoot":"/source/","sourcesContent":["/* eslint no-new-func:0 */\r\nexport class ScrollfirePatch {\r\n  static patched = false;\r\n\r\n  patch() {\r\n    if (!ScrollfirePatch.patched) {\r\n      ScrollfirePatch.patched = true;\r\n\r\n      window.Materialize.scrollFire = function(options) {\r\n        let didScroll = false;\r\n        window.addEventListener('scroll', function() {\r\n          didScroll = true;\r\n        });\r\n\r\n        // Rate limit to 100ms\r\n        setInterval(function() {\r\n          if (didScroll) {\r\n            didScroll = false;\r\n\r\n            let windowScroll = window.pageYOffset + window.innerHeight;\r\n            for (let i = 0; i < options.length; i++) {\r\n              // Get options from each line\r\n              let value = options[i];\r\n              let selector = value.selector;\r\n              let offset = value.offset;\r\n              let callback = value.callback;\r\n\r\n              let currentElement = document.querySelector(selector);\r\n              if ( currentElement !== null) {\r\n                let elementOffset = currentElement.getBoundingClientRect().top + window.pageYOffset;\r\n\r\n                if (windowScroll > (elementOffset + offset)) {\r\n                  if (value.done !== true) {\r\n                    if (typeof(callback) === 'string') {\r\n                      let callbackFunc = new Function(callback);\r\n                      callbackFunc();\r\n                    } else if (typeof(callback) === 'function') {\r\n                      callback();\r\n                    }\r\n                    value.done = true;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }, 100);\r\n      };\r\n    }\r\n  }\r\n}\r\n"]}