{"version":3,"sources":["scrollfire/scrollfire-patch.js"],"names":[],"mappings":";;;MACa,eAAe;;;;;;;AAAf,qBAAe;iBAAf,eAAe;gCAAf,eAAe;;eAC1B,OAAO,GAAG,KAAK;;;AADJ,uBAAe,WAG1B,KAAK,GAAA,iBAAG;AACN,cAAI,CAAC,IAAI,CAAC,OAAO,EAAE;AACjB,gBAAI,CAAC,OAAO,GAAG,IAAI,CAAC;;AAEpB,kBAAM,CAAC,WAAW,CAAC,UAAU,GAAG,UAAS,OAAO,EAAE;AAChD,kBAAI,SAAS,GAAG,KAAK,CAAC;AACtB,oBAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,YAAW;AAC3C,yBAAS,GAAG,IAAI,CAAC;eAClB,CAAC,CAAC;;AAGH,yBAAW,CAAC,YAAW;AACrB,oBAAI,SAAS,EAAE;AACb,2BAAS,GAAG,KAAK,CAAC;;AAElB,sBAAI,YAAY,GAAG,MAAM,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;AAC3D,uBAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAEvC,wBAAI,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;AACvB,wBAAI,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC;AAC9B,wBAAI,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;AAC1B,wBAAI,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC;;AAE9B,wBAAI,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;AACtD,wBAAK,cAAc,KAAK,IAAI,EAAE;AAC5B,0BAAI,aAAa,GAAG,cAAc,CAAC,qBAAqB,EAAE,CAAC,GAAG,GAAG,MAAM,CAAC,WAAW,CAAC;;AAEpF,0BAAI,YAAY,GAAI,aAAa,GAAG,MAAM,AAAC,EAAE;AAC3C,4BAAI,KAAK,CAAC,IAAI,KAAK,IAAI,EAAE;AACvB,8BAAI,OAAO,QAAQ,AAAC,KAAK,QAAQ,EAAE;AACjC,gCAAI,YAAY,GAAG,IAAI,QAAQ,CAAC,QAAQ,CAAC,CAAC;AAC1C,wCAAY,EAAE,CAAC;2BAChB,MAAM,IAAI,OAAO,QAAQ,AAAC,KAAK,UAAU,EAAE;AAC1C,oCAAQ,EAAE,CAAC;2BACZ;AACD,+BAAK,CAAC,IAAI,GAAG,IAAI,CAAC;yBACnB;uBACF;qBACF;mBACF;iBACF;eACF,EAAE,GAAG,CAAC,CAAC;aACT,CAAC;WACH;SACF;;eA/CU,eAAe","file":"scrollfire/scrollfire-patch.js","sourceRoot":"/source/","sourcesContent":["/* eslint no-new-func:0 */\r\nexport class ScrollfirePatch {\r\n  patched = false;\r\n\r\n  patch() {\r\n    if (!this.patched) {\r\n      this.patched = true;\r\n\r\n      window.Materialize.scrollFire = function(options) {\r\n        let didScroll = false;\r\n        window.addEventListener('scroll', function() {\r\n          didScroll = true;\r\n        });\r\n\r\n        // Rate limit to 100ms\r\n        setInterval(function() {\r\n          if (didScroll) {\r\n            didScroll = false;\r\n\r\n            let windowScroll = window.pageYOffset + window.innerHeight;\r\n            for (let i = 0; i < options.length; i++) {\r\n              // Get options from each line\r\n              let value = options[i];\r\n              let selector = value.selector;\r\n              let offset = value.offset;\r\n              let callback = value.callback;\r\n\r\n              let currentElement = document.querySelector(selector);\r\n              if ( currentElement !== null) {\r\n                let elementOffset = currentElement.getBoundingClientRect().top + window.pageYOffset;\r\n\r\n                if (windowScroll > (elementOffset + offset)) {\r\n                  if (value.done !== true) {\r\n                    if (typeof(callback) === 'string') {\r\n                      let callbackFunc = new Function(callback);\r\n                      callbackFunc();\r\n                    } else if (typeof(callback) === 'function') {\r\n                      callback();\r\n                    }\r\n                    value.done = true;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }, 100);\r\n      };\r\n    }\r\n  }\r\n}\r\n"]}